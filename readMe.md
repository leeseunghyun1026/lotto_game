기능 목록
1️⃣ 기본 설정
docs: 로또 미션을 위한 기능 목록 작성
2️⃣ 구매금액 입력하기
feat: 구입금액 입력 문구 출력
feat: 구입금액을 입력받은 후 유효성 검사
숫자만 입력할 수 있다.
최소 구입금액은 1000원이다.
구입금액은 1000으로 나누어져야 한다.
조건을 만족하지 않다면 "[ERROR]"로 시작하는 에러 메시지를 출력 후 종료한다.
feat: 발행한 로또의 개수 출력
구입금액에 1000을 나눈 수가 발행한 로또의 개수이다.
feat: 발행한 로또의 번호 출력
발행한 로또는 중복되지 않는 1~45 사이의 6개의 숫자이다.
조건을 만족하지 않다면 "[ERROR]"로 시작하는 에러 메시지를 출력 후 종료한다.
발행한 로또는 오름차순으로 정렬한 후 배열의 형태의 문자열로 출력한다.
3️⃣ 당첨 번호, 보너스 번호 입력하기
feat: 당첨 번호 입력 문구 출력
feat: 당첨 번호를 입력받은 후 유효성 검사
당첨 번호는 쉼표(,)를 기준으로 구분한다.
당첨 번호는 중복되지 않는 1~45 사이의 6개의 숫자이다.
조건을 만족하지 않다면 "[ERROR]"로 시작하는 에러 메시지를 출력 후 종료한다.
feat: 보너스 번호 입력 문구 출력
feat: 보너스 번호를 입력받은 후 유효성 검사
1~45 사이의 한 개의 숫자이어야 한다.
당첨 번호에 포함되어 있지 않아야 한다.
조건을 만족하지 않다면 "[ERROR]"로 시작하는 에러 메시지를 출력 후 종료한다.
4️⃣ 당첨 통계 출력한 후 게임 종료하기
feat: 당첨 통계 출력
당첨 통계는 당첨 내역과 수익률로 이루어져 있다.
feat: 당첨 내역 출력
번호가 3~6개 일치하는 로또의 개수를 출력한다.
feat: 수익률 출력
수익률은 소수점 둘째 자리에서 반올림한다.
feat: 게임을 종료
feat: 에러가 발생하면 에러 메시지를 출력한 후 종료
validation의 함수들은 결과만 반환하는 역할을 한다.
에러를 출력한 후 종료하는 새로운 함수를 만든다.
Console.close() 함수를 사용하여 종료 후 에러 메시지를 출력한다.
5️⃣ 리팩터링
refactor: 클래스 분리하기
기존 Game 클래스를 Lottos 클래스, WinningNumbers 클래스, BonusNumber 클래스로 분리한다.
Lottos 클래스는 입력한 금액에 따라 발행된 로또들을 관리한다.
WinningNumbers 클래스는 당첨 번호, BonusNumber 클래스는 보너스 번호를 관리한다.
refactor: 함수(메서드) 이동 및 분리하기
구매 금액, 로또 번호, 당첨 번호, 보너스 번호의 유효성 검사는 새로운 인스턴스가 만들어지기 전에 진행한다.
구매 금액에 따른 복수의 로또를 발행하는 함수에서 새로운 Lotto 인스턴스를 생성하는 함수를 만들어 분리한다.
에러 메시지를 생성하는 함수를 만들어 분리한다. 에러 메시지 생성 함수는 name 매개변수를 받기 때문에 name인수를 추가한다.
구매 금액, 로또 번호, 당첨 번호, 보너스 번호의 유효성 검사는 해당 인스턴스가 생성되는 클래스에서 진행한다.
refactor: 변수명, 함수명 수정하기
validation 객체를 checkValue로 수정한다. 값을 체크한 뒤 errorMsg를 반환한다.
numberList를 numbers로 수정한다.
-Array로 표현된 변수명, 함수명을 -s로 수정한다.
printWinningHistory를 printWinningDetails로 수정한다.
Lotto 클래스의 getResult를 getRank로 수정한다. 또한 해당 함수 내에서 선언한 winninCount를 count로 수정한다.
로또의 등수를 가져오는 함수명 수정한다.
refactor: 매직 넘버 상수화하기
의미를 가지는 매직 넘버를 상수화한다.
const.js 파일을 만들어 상수화된 변수를 관리한다.
변하지 않는 에러 메시지를 상수화한다.
구입 금액, 로또 번호, 당첨 번호, 보너스 번호 상수화한다.
플레이어 입력에 해당하는 메시지를 상수화한다.
구입금액에 관련된 매직 넘버, 로또와 관련된 매직 넘버를 상수화한다.
당첨 세부 사항 문자열, 상금 숫자, 1등, 2등, 마지막 등수를 상수화한다.
refactor: 함수가 한 가지의 일만 하도록 하기
기존 수익률을 출력하는 함수를 수익률을 계산하는 함수와 수익률을 출력하는 함수로 나누기
refactor: else 지양하기
if 조건절에서 값을 return한다.
판단하에 가독성이 좋을 경우 사용한다.
switch문도 고려한다.
6️⃣ 테스트
test: Lotto 클래스 테스트 작성
Lotto 클래스를 생성하는 테스트를 예외를 기준으로 작성한다.
Lotto 클래스의 getRank 메서드 테스트를 1~5등, 낙첨으로 나누어서 작성한다.
test: Lottos 클래스 테스트 작성
Lottos 클래스를 생성하는 테스트를 예외를 기준으로 작성한다.
Lottos 클래스에서 발행된 로또개수를 테스트한다. - Lottos 인스턴스의 list 필드의 length
Lottos 클래스에서 로또의 결과를 테스트한다. - getResult() 테스트
Lottos 클래스에서 등수 별 당첨 개수를 테스트한다. - getWinningCount() 테스트
Lottos 클래스에서 수익률 계산하는 함수를 테스트한다. - calculateRate() 테스트
test: WinningNumbers 클래스 테스트 작성
WinningNumbers 클래스를 생성하는 테스트를 예외를 기준으로 작성한다.
test: BonusNumber 클래스 테스트 작성
BonusNumber 클래스를 생성하는 테스트를 예외를 기준으로 작성한다.
test: 유효성 검사 함수 테스트 작성
checkValue.money() 함수 테스트를 예외를 기준으로 작성한다.
checkValue.numbers() 함수 테스트를 예외를 기준으로 작성한다.
checkValue.bonusNumber() 함수 테스트를 예외를 기준으로 작성한다.
